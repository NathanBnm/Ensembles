app-id: com.github.subhadeepjasu.ensembles
runtime: org.gnome.Platform
runtime-version: '3.38'
base: io.elementary.BaseApp
base-version: juno-20.08
sdk: org.gnome.Sdk
command: com.github.subhadeepjasu.ensembles
finish-args: 
  - '--share=ipc'
  - '--socket=fallback-x11'
  - '--socket=wayland'
  - '--socket=pulseaudio'
modules:
  - name: granite
    buildsystem: meson
    sources:
      - type: git
        url: https://github.com/elementary/granite.git

  # - name: fluidsynth
  #   buildsystem: cmake
  #   sources:
  #     - type: git
  #       url: https://github.com/FluidSynth/fluidsynth.git

  - name: fluidsynth
    buildsystem: cmake-ninja
    config-opts:
      - -DLIB_SUFFIX=
    cleanup:
      - /bin
      - /include
      - /lib/pkgconfig
      - /share/man
      - '*.so'
    sources:
      - type: archive
        url: https://github.com/FluidSynth/fluidsynth/archive/refs/tags/v2.2.1.tar.gz
        sha256: 1c56660f23f6c406b36646cc619fc2d2a5265d1d3290e79bcef4505bcd985fdd
  
  - name: libhandy-1
    buildsystem: meson
    sources:
      - type: git
        url: https://gitlab.gnome.org/GNOME/libhandy.git

  - name: ensembles
    buildsystem: meson
    sources:
      - type: dir
        path: .